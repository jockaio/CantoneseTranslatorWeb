<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:mj="http://mojarra.dev.java.net/mojarra_ext"
      xmlns:p="http://primefaces.org/ui">

	<ui:composition template="templates/default-template.xhtml">
		<ui:define name="content">
			<h3>Test yourself</h3>
			<h:form id="game-form">
				<p:selectOneMenu id="console" value="#{gameBean.length}" style="width:125px">
		            <f:selectItem itemLabel="10" itemValue="10" />
		            <f:selectItem itemLabel="15" itemValue="15" />
		            <f:selectItem itemLabel="20" itemValue="20" />
		        </p:selectOneMenu> 
				<p:commandButton id="start-game-button" value="Start Game" actionListener="#{gameBean.startGame}" update="game-field">
				</p:commandButton>
				<h:outputScript>
					$(PrimeFaces.escapeClientId("game-form:start-game-button")).on("click", function(){	
						  $(PrimeFaces.escapeClientId("game-form:start-game-button")).toggle();
						  $(PrimeFaces.escapeClientId("game-form:console")).toggle();
						  $(PrimeFaces.escapeClientId("game-form:next-word-button")).toggle();
						  console.log("push");
					});	
				</h:outputScript>
				<p:panel id="game-field" widgetVar="game-field-panel">
					<div id="game-canto">#{gameBean.selectedWord.cantonese}</div>
					<p:inputText value="#{gameBean.answer}" style="width: 100px;"/>
					<div id="game-jping">#{gameBean.selectedWord.jping}</div>
					<div id="game-english">#{gameBean.selectedWord.english}</div>
				</p:panel>
				<p:commandButton id="next-word-button" value="Next Word" actionListener="#{gameBean.nextWord}" update="game-field"></p:commandButton>
			</h:form>
		</ui:define>
	</ui:composition>
</html>